{"version":3,"sources":["components/TransactionHistory/TransactionHistory.module.css","components/Controls/Controls.js","components/TransactionHistory/TransactionHistory.js","components/Balance/Balance.js","components/Dashboard/Dashboard.js","App.js","index.js","components/Controls/Controls.module.css","components/Balance/Balance.module.css"],"names":["module","exports","Controls","handleChange","handleWithdraw","handleDeposit","amount","className","style","controls","input__controls","type","name","onChange","placeholder","value","button__deposit","onClick","button__withdraw","TransactionHistory","transactions","styles","transaction__history","map","el","key","id","Number","toFixed","date","Balance","balance","income","expenses","span__income","span__expenses","span__balance","Dashboard","state","addToTransactions","newTransactions","uuid","Date","toLocaleString","setState","toast","success","error","e","target","transactionsLS","localStorage","getItem","balanceLS","this","JSON","parse","alert","prevProps","prevState","setItem","stringify","reduce","acc","items","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.23ae8179.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"transaction__history\":\"TransactionHistory_transaction__history__2sZXF\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './Controls.module.css';\n\nconst Controls = ({ handleChange, handleWithdraw, handleDeposit, amount }) => (\n  <section className={style.controls}>\n    <input\n      className={style.input__controls}\n      type=\"number\"\n      name=\"amount\"\n      onChange={handleChange}\n      placeholder=\"Enter sumt\"\n      value={amount === 0 ? '' : amount}\n    />\n    <button\n      className={style.button__deposit}\n      onClick={handleDeposit}\n      type=\"button\"\n    >\n      Deposit\n    </button>\n    <button\n      className={style.button__withdraw}\n      onClick={handleWithdraw}\n      type=\"button\"\n    >\n      Withdraw\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  amount: PropTypes.number.isRequired,\n  handleChange: PropTypes.func.isRequired,\n  handleWithdraw: PropTypes.func.isRequired,\n  handleDeposit: PropTypes.func.isRequired,\n};\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './TransactionHistory.module.css';\n\nconst TransactionHistory = ({ transactions }) => (\n  <table className={styles.transaction__history}>\n    <thead>\n      <tr>\n        <th>Transaction</th>\n        <th>Amount</th>\n        <th>Date</th>\n      </tr>\n    </thead>\n    <tbody>\n      {transactions.map(el => (\n        <tr key={el.id}>\n          <td>{el.type}</td>\n          <td>{Number(el.amount).toFixed(2)}$</td>\n          <td>{el.date}</td>\n        </tr>\n      ))}\n    </tbody>\n  </table>\n);\n\nTransactionHistory.propTypes = {\n  transactions: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n};\n\nexport default TransactionHistory;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Balance.module.css';\n\nconst Balance = ({ balance, income, expenses }) => (\n  <section className={styles.balance}>\n    <span className={styles.span__income}>&uarr;{income}$</span>\n    <span className={styles.span__expenses}>&darr;{expenses}$</span>\n    <span className={styles.span__balance}>\n      Balance: {Number(balance).toFixed(2)}\n    </span>\n  </section>\n);\n\nBalance.propTypes = {\n  balance: PropTypes.number.isRequired,\n  income: PropTypes.number.isRequired,\n  expenses: PropTypes.number.isRequired,\n};\n\nexport default Balance;\n","import React, { Component } from 'react';\nimport uuid from 'uuid/v1';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Controls from '../Controls/Controls';\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\nimport Balance from '../Balance/Balance';\n\nexport default class Dashboard extends Component {\n  state = {\n    transactions: [],\n    balance: 0,\n    amount: 0,\n  };\n\n  componentDidMount() {\n    try {\n      const transactionsLS = localStorage.getItem('transactions');\n      const balanceLS = localStorage.getItem('balance');\n      if (transactionsLS && balanceLS) {\n        this.setState({\n          transactions: JSON.parse(transactionsLS),\n          balance: JSON.parse(balanceLS),\n        });\n      }\n    } catch (error) {\n      alert('Error LS');\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { transactions, balance } = this.state;\n    if (prevState.transactions !== transactions) {\n      localStorage.setItem('transactions', JSON.stringify(transactions));\n      localStorage.setItem('balance', JSON.stringify(balance));\n    }\n  }\n\n  addToTransactions = type => {\n    const { amount } = this.state;\n    const newTransactions = {\n      id: uuid(),\n      type,\n      amount,\n      date: new Date().toLocaleString(),\n    };\n    this.setState(state => ({\n      transactions: [...state.transactions, newTransactions],\n    }));\n  };\n\n  handleDeposit = () => {\n    if (this.state.amount !== 0) {\n      this.setState(state => ({\n        balance: +Number(state.balance + state.amount).toFixed(2),\n      }));\n      this.addToTransactions('DEPOSIT');\n    } else {\n      toast.success('Введите сумму для проведения операции!');\n    }\n    return this.setState({ amount: 0 });\n  };\n\n  handleWithdraw = () => {\n    if (this.state.balance >= this.state.amount && this.state.balance !== 0) {\n      this.setState(state => ({\n        balance: +Number(state.balance - state.amount).toFixed(2),\n      }));\n      this.addToTransactions('WITHDRAW');\n    } else {\n      toast.error('На счету недостаточно средств для проведения операции!');\n    }\n    return this.setState({ amount: 0 });\n  };\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: +value });\n  };\n\n  render() {\n    const { balance, transactions, amount } = this.state;\n    const income = +Number(\n      transactions.reduce((acc, items) => {\n        return items.type === 'DEPOSIT' ? acc + items.amount : acc;\n      }, 0),\n    ).toFixed(2);\n    const expenses = +Number(\n      transactions.reduce((acc, items) => {\n        return items.type === 'WITHDRAW' ? acc + items.amount : acc;\n      }, 0),\n    ).toFixed(2);\n    return (\n      <div>\n        <Controls\n          amount={amount}\n          handleWithdraw={this.handleWithdraw}\n          handleDeposit={this.handleDeposit}\n          handleChange={this.handleChange}\n        />\n        <Balance balance={balance} income={income} expenses={expenses} />\n        <TransactionHistory transactions={transactions} />\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Dashboard from './components/Dashboard/Dashboard';\n\nconst App = () => (\n  <>\n    <Dashboard />\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__1R6wM\",\"input__controls\":\"Controls_input__controls__1bm7F\",\"button__deposit\":\"Controls_button__deposit__GQ5Jj\",\"button__withdraw\":\"Controls_button__withdraw__1tl73\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__HTa7X\",\"span__income\":\"Balance_span__income__3O_RD\",\"span__expenses\":\"Balance_span__expenses__10KAn\",\"span__balance\":\"Balance_span__balance__2LpIW\"};"],"sourceRoot":""}